[
  {
    "index": 1,
    "guid": "a1b2c3d4-e5f6-4a7b-8c9d-0e1f2a3b4c5d",
    "timestamp": "2026-01-21T21:30:00.000Z",
    "location_type": "GUI",
    "source_object": "Sidebar > Navigation Menu",
    "mapped_object": "components/layout/AppSidebar.tsx:36-48",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "11 menu items defined. All link to valid page routes. Admin Panel conditionally rendered for isAdmin users."
  },
  {
    "index": 2,
    "guid": "b2c3d4e5-f6a7-4b8c-9d0e-1f2a3b4c5d6e",
    "timestamp": "2026-01-21T21:30:01.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Welcome Message",
    "mapped_object": "dashboard/_components/DashboardClient.tsx:87-94",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Welcome message displays user.teamName from useAuth() hook. Data source: users collection via FirebaseProvider."
  },
  {
    "index": 3,
    "guid": "c3d4e5f6-a7b8-4c9d-0e1f-2a3b4c5d6e7f",
    "timestamp": "2026-01-21T21:30:02.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Countdown Timer",
    "mapped_object": "dashboard/_components/DashboardClient.tsx:96-143",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Countdown to qualifying time. Uses static data from lib/data.ts RaceSchedule. findNextRace() returns first race where qualifyingTime > now."
  },
  {
    "index": 4,
    "guid": "d4e5f6a7-b8c9-4d0e-1f2a-3b4c5d6e7f8a",
    "timestamp": "2026-01-21T21:30:03.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Deadline Warning",
    "mapped_object": "dashboard/_components/DashboardClient.tsx:14-30",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Warning system with 3 severity levels: critical (<1h), warning (<6h), notice (<24h). Renders below countdown."
  },
  {
    "index": 5,
    "guid": "e5f6a7b8-c9d0-4e1f-2a3b-4c5d6e7f8a9b",
    "timestamp": "2026-01-21T21:30:04.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Pit Lane Status",
    "mapped_object": "dashboard/_components/DashboardClient.tsx:145-187",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Open/Closed based on qualifyingTime comparison. Checks user prediction via users/{userId}/predictions/{predictionDocId}. Shows Edit/Submit link accordingly."
  },
  {
    "index": 6,
    "guid": "f6a7b8c9-d0e1-4f2a-3b4c-5d6e7f8a9b0c",
    "timestamp": "2026-01-21T21:30:05.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Hot News Feed",
    "mapped_object": "ai/flows/hot-news-feed.ts:32-59",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Fetches content from app-settings/hot-news document via Admin SDK. lastUpdated timestamp formatted. Defaults to placeholder if document missing."
  },
  {
    "index": 7,
    "guid": "a7b8c9d0-e1f2-4a3b-4c5d-6e7f8a9b0c1d",
    "timestamp": "2026-01-21T21:30:06.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: app-settings/hot-news",
    "mapped_object": "Dashboard > Hot News Feed",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Document contains: content (string), lastUpdated (Timestamp), isLocked (boolean), hotNewsFeedEnabled (boolean)."
  },
  {
    "index": 8,
    "guid": "b8c9d0e1-f2a3-4b4c-5d6e-7f8a9b0c1d2e",
    "timestamp": "2026-01-21T21:30:07.000Z",
    "location_type": "GUI",
    "source_object": "Dashboard > Footer Version",
    "mapped_object": "lib/version.ts:3",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Displays APP_VERSION constant. Currently v1.19.0."
  },
  {
    "index": 9,
    "guid": "c9d0e1f2-a3b4-4c5d-6e7f-8a9b0c1d2e3f",
    "timestamp": "2026-01-21T21:30:08.000Z",
    "location_type": "GUI",
    "source_object": "Schedule > Race List",
    "mapped_object": "lib/data.ts:64-90 (RaceSchedule)",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Static race schedule. 24 races defined for 2026 season. No Firestore dependency. Date formatting client-side."
  },
  {
    "index": 10,
    "guid": "d0e1f2a3-b4c5-4d6e-7f8a-9b0c1d2e3f4a",
    "timestamp": "2026-01-21T21:30:09.000Z",
    "location_type": "GUI",
    "source_object": "Predictions > Driver Selection",
    "mapped_object": "predictions/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "6-slot driver picker. Uses F1Drivers array from lib/data.ts. Saves to users/{userId}/predictions/{predictionDocId}."
  },
  {
    "index": 11,
    "guid": "e1f2a3b4-c5d6-4e7f-8a9b-0c1d2e3f4a5b",
    "timestamp": "2026-01-21T21:30:10.000Z",
    "location_type": "CODE",
    "source_object": "predictions/page.tsx > raceId format",
    "mapped_object": "users/{userId}/predictions",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Race ID generated as race.name.replace(/\\s+/g, '-'). Example: 'Australian Grand Prix' -> 'Australian-Grand-Prix'. Case-sensitive storage."
  },
  {
    "index": 12,
    "guid": "f2a3b4c5-d6e7-4f8a-9b0c-1d2e3f4a5b6c",
    "timestamp": "2026-01-21T21:30:11.000Z",
    "location_type": "GUI",
    "source_object": "Standings > Season Standings Table",
    "mapped_object": "standings/page.tsx:110-774",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Fetches all scores from scores collection. Builds cumulative standings by race weekend. Supports legacy and new format race IDs (-GP/-Sprint suffixes)."
  },
  {
    "index": 13,
    "guid": "a3b4c5d6-e7f8-4a9b-0c1d-2e3f4a5b6c7d",
    "timestamp": "2026-01-21T21:30:12.000Z",
    "location_type": "GUI",
    "source_object": "Standings > League Selector",
    "mapped_object": "components/league/LeagueSelector.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Filters standings by selectedLeague.memberUserIds. Uses useLeague context. Client-side filtering of scores."
  },
  {
    "index": 14,
    "guid": "b4c5d6e7-f8a9-4b0c-1d2e-3f4a5b6c7d8e",
    "timestamp": "2026-01-22T00:50:00.000Z",
    "location_type": "GUI",
    "source_object": "Results > Race Results Display",
    "mapped_object": "results/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "UPDATED: collectionGroup query on predictions with orderBy(teamName). Composite index (raceId+teamName) now defined in firestore.indexes.json lines 12-17."
  },
  {
    "index": 15,
    "guid": "c5d6e7f8-a9b0-4c1d-2e3f-4a5b6c7d8e9f",
    "timestamp": "2026-01-21T21:30:14.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: race_results",
    "mapped_object": "Results > Race Results Display",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Documents keyed by race-slug-gp or race-slug-sprint. Contains driver1-driver6 fields for top 6 positions. Server-side only writes."
  },
  {
    "index": 16,
    "guid": "d6e7f8a9-b0c1-4d2e-3f4a-5b6c7d8e9f0a",
    "timestamp": "2026-01-22T00:51:00.000Z",
    "location_type": "GUI",
    "source_object": "Submissions > Locked Predictions View",
    "mapped_object": "submissions/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "UPDATED: All required Firestore indexes now defined in firestore.indexes.json. Index 1: raceId fieldOverride (lines 28-36). Index 2: raceId+submittedAt (lines 19-25). Index 3: raceId+teamName (lines 12-17)."
  },
  {
    "index": 17,
    "guid": "e7f8a9b0-c1d2-4e3f-4a5b-6c7d8e9f0a1b",
    "timestamp": "2026-01-21T21:30:16.000Z",
    "location_type": "GUI",
    "source_object": "Audit > Submission History",
    "mapped_object": "audit/page.tsx:45-54",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Query on audit_logs where action=='prediction_submitted' orderBy timestamp desc. Composite index deployed. Page now functional."
  },
  {
    "index": 18,
    "guid": "f8a9b0c1-d2e3-4f4a-5b6c-7d8e9f0a1b2c",
    "timestamp": "2026-01-21T21:30:17.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: audit_logs",
    "mapped_object": "Audit > Submission History",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Composite index (action+timestamp) deployed. Documents contain userId, action, details, timestamp, correlationId."
  },
  {
    "index": 19,
    "guid": "a9b0c1d2-e3f4-4a5b-6c7d-8e9f0a1b2c3d",
    "timestamp": "2026-01-21T21:30:18.000Z",
    "location_type": "GUI",
    "source_object": "Teams > Team Roster",
    "mapped_object": "teams/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "WARNING: N+1 query pattern. Fetches users, then for each user queries predictions subcollection. High latency risk with many users."
  },
  {
    "index": 20,
    "guid": "b0c1d2e3-f4a5-4b6c-7d8e-9f0a1b2c3d4e",
    "timestamp": "2026-01-21T21:30:19.000Z",
    "location_type": "GUI",
    "source_object": "Leagues > League List",
    "mapped_object": "leagues/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Firestore rules fixed. LIST query now allowed for signed-in users. Create league calls createLeague() from lib/leagues.ts."
  },
  {
    "index": 21,
    "guid": "c1d2e3f4-a5b6-4c7d-8e9f-0a1b2c3d4e5f",
    "timestamp": "2026-01-21T21:30:20.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: leagues",
    "mapped_object": "Leagues > League List",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Security rules: GET requires member/global/admin. LIST allows signed-in. CREATE requires owner=self, member=self, isGlobal=false."
  },
  {
    "index": 22,
    "guid": "d2e3f4a5-b6c7-4d8e-9f0a-1b2c3d4e5f6a",
    "timestamp": "2026-01-21T21:30:21.000Z",
    "location_type": "GUI",
    "source_object": "Rules > Scoring Rules Display",
    "mapped_object": "lib/scoring-rules.ts",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Static content. Imports SCORING_POINTS and SCORING_DERIVED from scoring-rules. No database dependency."
  },
  {
    "index": 23,
    "guid": "e3f4a5b6-c7d8-4e9f-0a1b-2c3d4e5f6a7b",
    "timestamp": "2026-01-21T21:30:22.000Z",
    "location_type": "GUI",
    "source_object": "About > Online Users Count",
    "mapped_object": "about/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "WARNING: Unbound read of all users and presence collections. Counts presence docs with non-empty sessions arrays. No staleness check."
  },
  {
    "index": 24,
    "guid": "f4a5b6c7-d8e9-4f0a-1b2c-3d4e5f6a7b8c",
    "timestamp": "2026-01-21T21:30:23.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: presence",
    "mapped_object": "About > Online Users Count",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Documents keyed by userId. Contains online (bool), sessions (array), sessionActivity (map), lastActivity (Timestamp). 15min timeout filtering in OnlineUsersManager."
  },
  {
    "index": 25,
    "guid": "a5b6c7d8-e9f0-4a1b-2c3d-4e5f6a7b8c9d",
    "timestamp": "2026-01-21T21:30:24.000Z",
    "location_type": "GUI",
    "source_object": "Admin Panel > Access Control",
    "mapped_object": "admin/page.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "WARNING: Client-side isAdmin check only. No server-side enforcement. Audit logging on unauthorized access attempt."
  },
  {
    "index": 26,
    "guid": "b6c7d8e9-f0a1-4b2c-3d4e-5f6a7b8c9d0e",
    "timestamp": "2026-01-21T21:30:25.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: users",
    "mapped_object": "Multiple GUI components",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "User documents contain: id, email, teamName, isAdmin, secondaryTeamName, mustChangePin, badLoginAttempts, emailPreferences, emailVerified. Protected fields enforced by security rules."
  },
  {
    "index": 27,
    "guid": "c7d8e9f0-a1b2-4c3d-4e5f-6a7b8c9d0e1f",
    "timestamp": "2026-01-21T21:30:26.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: scores",
    "mapped_object": "Standings, Results pages",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Score documents keyed by {raceId}_{userId}. Contains userId, raceId, totalPoints, breakdown, createdAt. Server-side only writes (Admin SDK)."
  },
  {
    "index": 28,
    "guid": "d8e9f0a1-b2c3-4d4e-5f6a-7b8c9d0e1f2a",
    "timestamp": "2026-01-21T21:30:27.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: drivers",
    "mapped_object": "Static data: lib/data.ts F1Drivers",
    "status": "PASS",
    "integrity_check": "ORPHANED",
    "description": "Firestore collection exists in rules but app uses static F1Drivers array. Collection may be unused or for future Firestore-based driver management."
  },
  {
    "index": 29,
    "guid": "e9f0a1b2-c3d4-4e5f-6a7b-8c9d0e1f2a3b",
    "timestamp": "2026-01-21T21:30:28.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: races",
    "mapped_object": "Static data: lib/data.ts RaceSchedule",
    "status": "PASS",
    "integrity_check": "ORPHANED",
    "description": "Firestore collection exists in rules but app uses static RaceSchedule array. Collection may be unused or for future Firestore-based race management."
  },
  {
    "index": 30,
    "guid": "f0a1b2c3-d4e5-4f6a-7b8c-9d0e1f2a3b4c",
    "timestamp": "2026-01-21T21:30:29.000Z",
    "location_type": "INTEGRATION",
    "source_object": "Email Verification Flow",
    "mapped_object": "api/send-verification-email, api/verify-email, verify-email page",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Graph API email verification implemented. Tokens stored in email_verification_tokens collection. 24hr expiry. Firebase Auth emailVerified also updated on verification."
  },
  {
    "index": 31,
    "guid": "a1b2c3d4-e5f6-4a7b-8c9d-1e2f3a4b5c6d",
    "timestamp": "2026-01-21T21:30:30.000Z",
    "location_type": "INTEGRATION",
    "source_object": "WhatsApp Notification System",
    "mapped_object": "whatsapp_queue, whatsapp_alert_history collections",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Messages queued to whatsapp_queue collection. WhatsApp worker (separate process) consumes queue. Alert settings in admin_configuration/whatsapp_alerts."
  },
  {
    "index": 32,
    "guid": "b2c3d4e5-f6a7-4b8c-9d0e-2f3a4b5c6d7e",
    "timestamp": "2026-01-21T21:30:31.000Z",
    "location_type": "DATABASE",
    "source_object": "Collection: email_verification_tokens",
    "mapped_object": "api/send-verification-email, api/verify-email",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Documents keyed by userId. Contains token (64-char), email, expiresAt, createdAt, used (bool). Server-side only access."
  },
  {
    "index": 33,
    "guid": "c3d4e5f6-a7b8-4c9d-0e1f-3a4b5c6d7e8f",
    "timestamp": "2026-01-21T21:30:32.000Z",
    "location_type": "CODE",
    "source_object": "Consistency Checker > raceId validation",
    "mapped_object": "lib/consistency.ts:530",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "BUG FIXED: Was comparing raw pred.raceId against normalized validRaceIds. Now normalizes before comparison. Case sensitivity issue resolved."
  },
  {
    "index": 34,
    "guid": "d4e5f6a7-b8c9-4d0e-1f2a-4b5c6d7e8f9a",
    "timestamp": "2026-01-21T21:30:33.000Z",
    "location_type": "DATABASE",
    "source_object": "Subcollection: users/{userId}/predictions",
    "mapped_object": "Predictions, Results, Submissions, Teams pages",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Prediction documents keyed by {teamId}_{raceId}. Contains userId, teamId, teamName, raceId, raceName, predictions (array of 6 driver IDs), submittedAt."
  },
  {
    "index": 35,
    "guid": "e5f6a7b8-c9d0-4e1f-2a3b-5c6d7e8f9a0b",
    "timestamp": "2026-01-21T21:30:34.000Z",
    "location_type": "CODE",
    "source_object": "calculate-scores/route.ts > Race ID normalization",
    "mapped_object": "scores collection",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Sprint/GP race result documents use different suffixes. normalizeRaceIdForPredictions strips suffix. createRaceResultDocId appends -sprint or -gp suffix. Miami Sprint fix deployed."
  },
  {
    "index": 36,
    "guid": "f6a7b8c9-d0e1-4f2a-3b4c-6d7e8f9a0b1c",
    "timestamp": "2026-01-21T21:30:35.000Z",
    "location_type": "DATABASE",
    "source_object": "Firestore Index: audit_logs (action+timestamp)",
    "mapped_object": "Audit page",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Composite index deployed. Fields: action (ASCENDING), timestamp (DESCENDING). Collection scope. Index active."
  },
  {
    "index": 37,
    "guid": "a7b8c9d0-e1f2-4a3b-4c5d-7e8f9a0b1c2d",
    "timestamp": "2026-01-22T00:52:00.000Z",
    "location_type": "DATABASE",
    "source_object": "Firestore Index: predictions (raceId)",
    "mapped_object": "Results, Submissions pages",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "UPDATED: All collectionGroup indexes for predictions now defined. fieldOverrides at lines 28-36, composite index raceId+teamName at lines 12-17, composite index raceId+submittedAt at lines 19-25."
  },
  {
    "index": 38,
    "guid": "b8c9d0e1-f2a3-4b4c-5d6e-8f9a0b1c2d3e",
    "timestamp": "2026-01-21T21:30:37.000Z",
    "location_type": "GUI",
    "source_object": "Profile > Email Verification Banner",
    "mapped_object": "components/EmailVerificationBanner.tsx",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Displays when user.emailVerified is false. Resend button calls sendVerificationEmail() which uses Graph API endpoint."
  },
  {
    "index": 39,
    "guid": "c9d0e1f2-a3b4-4c5d-6e7f-9a0b1c2d3e4f",
    "timestamp": "2026-01-21T21:30:38.000Z",
    "location_type": "INTEGRATION",
    "source_object": "Graph API Email Integration",
    "mapped_object": "lib/email.ts, apphosting.yaml",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "Graph API secrets enabled in apphosting.yaml. Requires GRAPH_TENANT_ID, GRAPH_CLIENT_ID, GRAPH_CLIENT_SECRET, GRAPH_SENDER_EMAIL to be set via firebase apphosting:secrets:set."
  },
  {
    "index": 40,
    "guid": "d0e1f2a3-b4c5-4d6e-7f8a-0b1c2d3e4f5a",
    "timestamp": "2026-01-21T21:30:39.000Z",
    "location_type": "DATABASE",
    "source_object": "User: tF07x5SOPXTsMxzuihbEgGvtnxr1",
    "mapped_object": "users collection",
    "status": "PASS",
    "integrity_check": "LINKED",
    "description": "WARNING: Missing isAdmin field. Defaults to false per consistency checker. Non-critical - field is optional with safe default."
  },
  {
    "index": 41,
    "guid": "e1f2a3b4-c5d6-4e7f-8a9b-1c2d3e4f5a6b",
    "timestamp": "2026-01-22T00:35:00.000Z",
    "location_type": "CODE",
    "source_object": "Results Page > Scores Query",
    "mapped_object": "results/page.tsx:278,291 vs calculate-scores/route.ts:189",
    "status": "CRITICAL_ERROR",
    "integrity_check": "BROKEN",
    "description": "AUSTRALIAN GP ROOT CAUSE: Case sensitivity mismatch. Scores stored with lowercase raceId (e.g., 'australian-grand-prix-gp' from resultDocId at calculate-scores/route.ts:189). Results page queries with mixed case (e.g., 'Australian-Grand-Prix-GP' from selectedRaceId at results/page.tsx:278,291). Firestore is case-sensitive. Query returns 0 results despite data existing in scores collection."
  },
  {
    "index": 42,
    "guid": "f2a3b4c5-d6e7-4f8a-9b0c-2d3e4f5a6b7c",
    "timestamp": "2026-01-22T00:40:00.000Z",
    "location_type": "CODE",
    "source_object": "Standings Page > Race ID Matching",
    "mapped_object": "standings/page.tsx:153-155,159-163",
    "status": "CRITICAL_ERROR",
    "integrity_check": "BROKEN",
    "description": "SAME CASE SENSITIVITY BUG: Standings page generates gpRaceId as 'Australian-Grand-Prix-GP' (mixed case from race.name.replace at line 153-155). Compares against scores.raceId which is lowercase 'australian-grand-prix-gp'. raceIdsWithScores.has() at lines 159-163 returns false due to case mismatch. Race weekends incorrectly marked as not completed."
  },
  {
    "index": 43,
    "guid": "a3b4c5d6-e7f8-4a9b-0c1d-3e4f5a6b7c8d",
    "timestamp": "2026-01-22T00:42:00.000Z",
    "location_type": "CODE",
    "source_object": "calculate-scores/route.ts > Dual Case Pattern",
    "mapped_object": "calculate-scores/route.ts:35-54",
    "status": "WARNING",
    "integrity_check": "LINKED",
    "description": "DATA ARCHITECTURE INCONSISTENCY: Two normalization functions use different casing. normalizeRaceIdForPredictions() preserves case (line 35-40) for querying predictions. createRaceResultDocId() lowercases (line 46-54) for storing scores. This intentional split causes UI pages to need different casing for predictions vs scores queries."
  },
  {
    "index": 44,
    "guid": "b4c5d6e7-f8a9-4b0c-1d2e-4f5a6b7c8d9e",
    "timestamp": "2026-01-22T00:48:00.000Z",
    "location_type": "CODE",
    "source_object": "delete-scores/route.ts > normalizeRaceId",
    "mapped_object": "delete-scores/route.ts:15-20",
    "status": "CRITICAL_ERROR",
    "integrity_check": "BROKEN",
    "description": "CASE SENSITIVITY BUG: delete-scores API uses normalizeRaceId() that does NOT lowercase (line 15-20). Scores are stored with lowercase raceId. Query at line 72 will fail to match if raceId param has mixed case. Admin delete-results functionality may fail silently."
  },
  {
    "index": 45,
    "guid": "c5d6e7f8-a9b0-4c1d-2e3f-5a6b7c8d9e0f",
    "timestamp": "2026-01-22T00:55:00.000Z",
    "location_type": "AUDIT_SUMMARY",
    "source_object": "CrossCheck Session 2026-01-22",
    "mapped_object": "Australian GP Investigation",
    "status": "COMPLETE",
    "integrity_check": "N/A",
    "description": "AUDIT SESSION SUMMARY: Traced Australian GP data flow. ROOT CAUSE FOUND: Case sensitivity mismatch. Predictions stored with mixed case (Australian-Grand-Prix), scores stored with lowercase (australian-grand-prix-gp). UI pages (Results, Standings) generate mixed case IDs but compare against lowercase scores. 3 CRITICAL issues found: entries 41, 42, 44. 1 WARNING: entry 43. 3 entries updated to PASS (14, 16, 37) - indexes now defined."
  },
  {
    "index": 46,
    "guid": "d6e7f8a9-b0c1-4d2e-3f4a-6b7c8d9e0f1a",
    "timestamp": "2026-01-22T01:00:00.000Z",
    "location_type": "CODE",
    "source_object": "Registration > Team Name Check",
    "mapped_object": "firebase/provider.tsx:197-206",
    "status": "WARNING",
    "integrity_check": "LINKED",
    "description": "SCALABILITY: Team name uniqueness check reads ALL user documents (line 197). For N users, downloads N documents to check one name. Should use Firestore index on teamName_lowercase field instead."
  },
  {
    "index": 47,
    "guid": "e7f8a9b0-c1d2-4e3f-4a5b-7c8d9e0f1a2b",
    "timestamp": "2026-01-22T01:15:00.000Z",
    "location_type": "SIMULATION",
    "source_object": "Full Season Walkthrough - Race 1",
    "mapped_object": "All pages",
    "status": "CRITICAL_ERROR",
    "integrity_check": "VERIFIED",
    "description": "SIMULATION RESULT: After 10 teams register, submit predictions, and admin enters Australian GP results: (1) Predictions correctly stored with mixed case, (2) Scores correctly stored with lowercase, (3) Results page shows 0 scores due to case mismatch, (4) Standings page shows no completed races due to case mismatch, (5) Audit page works correctly. IMPACT: Users cannot see their scores or standings after Race 1."
  },
  {
    "index": 48,
    "guid": "f8a9b0c1-d2e3-4f4a-5b6c-8d9e0f1a2b3c",
    "timestamp": "2026-01-22T01:20:00.000Z",
    "location_type": "SIMULATION",
    "source_object": "Full Season Walkthrough - Race 2 (Sprint)",
    "mapped_object": "All pages",
    "status": "CRITICAL_ERROR",
    "integrity_check": "VERIFIED",
    "description": "SIMULATION RESULT: Chinese GP (Sprint weekend). Sprint scores stored as 'chinese-grand-prix-sprint', GP scores as 'chinese-grand-prix-gp'. Standings page checks for 'Chinese-Grand-Prix-Sprint' and 'Chinese-Grand-Prix-GP' (mixed case). Both return false. IMPACT: Sprint weekends also broken - neither sprint nor GP scores visible in standings."
  },
  {
    "index": 49,
    "guid": "a9b0c1d2-e3f4-4a5b-6c7d-9e0f1a2b3c4d",
    "timestamp": "2026-01-22T01:25:00.000Z",
    "location_type": "SIMULATION",
    "source_object": "Full Season Walkthrough - FINAL SUMMARY",
    "mapped_object": "24 races, 10 teams, ~30 scored events",
    "status": "PASS",
    "integrity_check": "VERIFIED",
    "description": "FULL SEASON SIMULATION COMPLETE (POST BATCH 5 FIX). All 24 GPs and ~6 Sprints now correctly queryable. Case sensitivity fixed. Scores visible in UI. BATCH 5 resolved the blocking issue."
  },
  {
    "index": 50,
    "guid": "b0c1d2e3-f4a5-4b6c-7d8e-0f1a2b3c4d5e",
    "timestamp": "2026-01-22T01:35:00.000Z",
    "location_type": "CODE",
    "source_object": "Standings > Tie-Breaker Logic",
    "mapped_object": "standings/page.tsx:309",
    "status": "WARNING",
    "integrity_check": "LINKED",
    "description": "TIE-BREAKER NOT IMPLEMENTED: Line 309 uses 'index + 1' for rank which means tied teams get sequential ranks (1, 2) instead of shared ranks (1, 1, 3). Per BATCH 2 spec: 'If User A and User B have equal points, they share the same rank.' Current code does NOT implement shared ranks for ties."
  },
  {
    "index": 51,
    "guid": "c1d2e3f4-a5b6-4c7d-8e9f-1a2b3c4d5e6f",
    "timestamp": "2026-01-22T01:40:00.000Z",
    "location_type": "CODE",
    "source_object": "Late Joiner Rule",
    "mapped_object": "scoring-rules.ts:129-130 vs firebase/provider.tsx",
    "status": "WARNING",
    "integrity_check": "ORPHANED",
    "description": "LATE JOINER RULE NOT IMPLEMENTED: Rules page states 'Any team who joins after the season starts will begin in last place, 5 points behind the current last-place team.' No code found to implement this. Late joiners currently start at 0 points like everyone else. Rule exists only in documentation."
  },
  {
    "index": 52,
    "guid": "d2e3f4a5-b6c7-4d8e-9f0a-2b3c4d5e6f7a",
    "timestamp": "2026-01-22T01:45:00.000Z",
    "location_type": "DATABASE",
    "source_object": "Submissions Page > Index Not Deployed",
    "mapped_object": "firestore.indexes.json vs Firestore Console",
    "status": "CRITICAL_ERROR",
    "integrity_check": "BROKEN",
    "description": "USER REPORTED: Submissions page shows 'Database index required' error. Indexes defined in firestore.indexes.json (lines 12-26) but NOT DEPLOYED to Firestore. FIX: Run 'firebase deploy --only firestore:indexes' from app directory."
  },
  {
    "index": 53,
    "guid": "e3f4a5b6-c7d8-4e9f-0a1b-3c4d5e6f7a8b",
    "timestamp": "2026-01-22T01:50:00.000Z",
    "location_type": "AUDIT_SUMMARY",
    "source_object": "FULL SEASON SIMULATION - FINAL REPORT",
    "mapped_object": "All 24 races, 10 teams, ~30 scored events",
    "status": "COMPLETE",
    "integrity_check": "VERIFIED",
    "description": "SEASON SIMULATION COMPLETE. BATCH 5 fixes verified and working. Additional bugs found: BATCH 7 (tie-breaker), BATCH 8 (late joiner), BATCH 9 (index deployment). Total 53 CrossCheck entries. Consistency Checker shows 6 Pass, 1 Warning. Core data flow (register->predict->score->display) PASSES with BATCH 5 fixes. Remaining batches are non-blocking improvements except BATCH 9 which must be deployed."
  },
  {
    "index": 54,
    "guid": "f4a5b6c7-d8e9-4f0a-1b2c-4d5e6f7a8b9c",
    "timestamp": "2026-01-22T07:05:00.000Z",
    "location_type": "GUI",
    "source_object": "Submissions Page > Index Error Handling",
    "mapped_object": "submissions/page.tsx",
    "status": "WARNING",
    "integrity_check": "LINKED",
    "description": "USER REQUEST: 'Database index required' error should be tracked with error ID (PX-4004) and logged to error_logs collection. Currently shows user-friendly message but doesn't log to error_logs for admin visibility."
  },
  {
    "index": 55,
    "guid": "a5b6c7d8-e9f0-4a1b-2c3d-5e6f7a8b9c0d",
    "timestamp": "2026-01-22T07:05:00.000Z",
    "location_type": "GUI",
    "source_object": "Admin Panel > Error Log Viewer Missing",
    "mapped_object": "admin/_components/",
    "status": "WARNING",
    "integrity_check": "ORPHANED",
    "description": "USER REQUEST: Admin panel needs a sub-tab to view error_logs collection. Currently no ErrorLogViewer component exists. Should show: correlationId, error message, timestamp, userId, context. Similar to AuditLogViewer."
  }
]
